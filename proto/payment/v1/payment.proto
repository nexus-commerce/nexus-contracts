syntax = "proto3";

option go_package = "gen/v1/payment";

import "google/api/annotations.proto";
import "google/protobuf/struct.proto";

package payment.v1;

service PaymentService {
  rpc ProcessPayment(ProcessPaymentRequest) returns (ProcessPaymentResponse) {
    option (google.api.http) = {
      post: "/api/v1/payments/initiate"
      body: "*"
    };
  };
  rpc GetPayments(GetPaymentsRequest) returns (GetPaymentsResponse) {
    option (google.api.http) = {
      get: "/api/v1/payments"
    };
  };
}

message ProcessPaymentRequest {}

message ProcessPaymentResponse {
  string client_secret = 1;
  float amount = 2;
  string currency = 3;
}

message Payment {
  int64 id = 1;
  float amount = 2;
  string currency = 3;
  string status = 4;
  google.protobuf.Value gateway_transaction_id = 5;
  string payment_method = 6;
  int64 order_id = 7;
}

message GetPaymentsRequest {}

message GetPaymentsResponse {
  repeated Payment payments = 1;
}